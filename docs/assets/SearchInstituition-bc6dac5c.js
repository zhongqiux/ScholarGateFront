import{y as C,E as B}from"./main-20e961e1.js";/* empty css                 *//* empty css                                                               */import{u as F,b as P}from"./vue-router-daaeaf7b.js";import{e as r,_ as U,i as D,f as q,ah as n,o as c,c as _,F as k,a8 as w,V as s,P as u,a as t,U as d,T as E,S as f,J as R}from"./@vue-5e5b7d13.js";import"./@element-plus-901cfadf.js";import"./pinia-1cec025d.js";import"./axios-21b846bc.js";import"./identicon.js-56b04766.js";import"./blueimp-md5-3e7612d8.js";/* empty css                    */import"./pinia-plugin-persistedstate-02097300.js";import"./element-plus-f98e4839.js";import"./lodash-es-21c98b27.js";import"./@vueuse-6c1c0c2c.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-5c8c3070.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-9c1ce378.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-72671fae.js";const z={class:"List__itemAction"},J={class:"List__itemIndex"},M={class:"list-item"},O={class:""},j=["onClick"],G={class:"keywords"},H=t("span",{class:"keywords__label"},"works_count:",-1),K={class:"keywords__content"},Q={class:"keywords"},W=t("span",{class:"keywords__label"},"cited_by_count:",-1),X={class:"keywords__content"},Y={class:"keywords"},Z=t("span",{class:"keywords__label"},"institution_name:",-1),tt={class:"keywords__content"},et={class:"keywords"},st=t("span",{class:"keywords__label"},"concept_name_list:",-1),ot={class:"Author-info__content"},nt={key:0},at={key:1,class:"paginationStyle"},it={__name:"SearchInstituitionCard",setup(b,{expose:y}){C();const m=F(),g=P(),p=r(1),o=U({});r(!0);const x=a=>{const e=a.substring(a.lastIndexOf("/")+1);console.log(e),g.push(`/researcher/${e}`)},h=()=>{m.query.key;let a=m.query.value,e=p.value;B(a,e).then(l=>{o.data=l.data.results,o.meta=l.data.meta}).catch(l=>{console.error(l)}),console.log(o.data),console.log(o.meta)},S=()=>{h()};return y({getSearchData:h}),D(()=>{h()}),q(()=>m.params,(a,e)=>{h()},{immediate:!0}),(a,e)=>{const l=n("el-aside"),A=n("UserFilled"),I=n("el-icon"),L=n("el-container"),N=n("el-divider"),$=n("el-empty"),T=n("el-pagination");return c(),_(k,null,[(c(!0),_(k,null,w(o.data,(i,V)=>(c(),_("div",null,[s(L,{class:"List__item"},{default:u(()=>[s(l,{width:"60px",class:"List__itemActions"},{default:u(()=>[t("div",z,[t("div",J,d(V+1)+".",1)])]),_:2},1024),t("div",M,[t("div",O,[t("h2",{class:"ContentItem__titleText",onClick:v=>x(i.id)},[s(I,{class:"author-icon"},{default:u(()=>[s(A)]),_:1}),E(" "+d(i.display_name),1)],8,j)]),t("div",G,[H,t("span",K,d(i.works_count),1)]),t("div",Q,[W,t("span",X,d(i.cited_by_count),1)]),t("div",Y,[Z,t("span",tt,d(i.institution_name),1)]),t("div",et,[st,t("span",{onClick:e[0]||(e[0]=(...v)=>a.handleAuthorClick&&a.handleAuthorClick(...v)),class:"keywords__content"},[(c(!0),_(k,null,w(i.concept_name_list,(v,dt)=>(c(),_("span",ot,d(v)+"   ",1))),256))])])])]),_:2},1024),s(N,{class:"item__divider"})]))),256)),o.data===void 0?(c(),_("div",nt,[s($,{description:"无结果"})])):f("",!0),o.data!==void 0?(c(),_("div",at,[s(T,{background:"",layout:"prev, pager, next",total:1e3,"current-page":p.value,"onUpdate:currentPage":e[1]||(e[1]=i=>p.value=i),onCurrentChange:S},null,8,["current-page"])])):f("",!0)],64)}}};const ct={class:"body"},_t={class:"card"},rt={class:"AppSearchTabs"},lt=t("div",{class:"List"},null,-1),Pt={__name:"SearchInstituition",setup(b){C(),r(""),r(""),r(["1","2","3","4"]);const y=r(1);return r(""),(m,g)=>{const p=n("el-main"),o=n("el-container");return c(),_("div",ct,[s(o,{class:"ContentLayout"},{default:u(()=>[s(p,null,{default:u(()=>[t("div",_t,[t("div",rt,[t("div",{class:R(["AppSearchTab",{"is-active":y.value===1}])},"机构",2)]),lt,s(it)])]),_:1})]),_:1})])}}};export{Pt as default};
